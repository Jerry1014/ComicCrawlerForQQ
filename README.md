# onepiece
用以爬取腾讯动漫上的航海王漫画
chromedriver.exe必须和脚本放在同一目录下

2018.6.6更新
将隐式等待时间更改为显式等待时间，当图片一准备好，马上开始下载，速度大为提升
经测试，原始版本爬取海贼王第904，905话，共用时150s，改进后用时48s

2018.6.9更新
在让小伙伴给我测试的时候，他提到，要是我没有chrome怎么办，这确实是我没有考虑到的问题
创建chrome的webdriver失败之后，会尝试创建IE的webdriver（未测试）
可以选择爬取之后的图片储存位置

2018.9.5
偶然发现，使用Kindle Comic Converter生成mobi漫画，看起来更舒服更好看
修改代码时，发现冗余的功能多了之后就不好管理了，遂重构加删除用不上的功能
新增
-使用headless chrome，爬取更省资源（吧）
-对代码进行了简单优化
-对大于两集的爬取，将从中间分割，交由两个进程共同处理。
删除
-没有chrome的处理
-选择保存的文件夹
之所以删除上述功能，是因为，多输入两次着实麻烦，写爬虫就是怕麻烦

2018.9.6
今天经大佬点播，发现其实用一个配置文件会更好，于是。。。
增加配置文件，爬取的动漫，保存的位置都可以在里面设置
配置文件中还有一项为最后爬取的集数，爬虫会将正常结束的最大集数写入，且在运行爬虫是，可以选择按照最后爬取的集数再往下爬取4集
新增多进程爬取，在选择集数时，会在后台打开两个浏览器进程，爬取更快更省时间

2018.9.7
修复上一版诸多bug

2018.9.9
配置文件改用明文，csv格式储存，可直接修改相应的设置
偶然发现并修复了一个bug

2018.9.17
开启另一分支，静默爬取从记录到最新一集，并发送邮件告知最新爬取话数

2018.9.23
重构and优化，共有三进程，主进程负责获取最新更新话数，获取每集开始的正确cid，分配任务，最后自己也会参与爬取。
每个进程中使用多线程实现对图片的快速爬取，加速明显
本版本沿袭上一版本，删去人为的选择和操作，适用于计划任务

等哪天我不再摸鱼的时候
1.在此版本的基础上，添加日志功能/没有丑丑的命令行输出，将整个过程用更丰富的形式以邮箱的方式发送给使用者，特别是出错信息（自动化爬取方向）
2.在此版本的基础上，结合上上上版本，完成一个可选择可设置的，更丰富灵活的爬虫，可能会加入图形界面（人工爬取方向）
